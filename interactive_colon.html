<!DOCTYPE html>
<html>

<head>
    <style>
        canvas {
            pointer-events: none;
            /* make the canvas transparent to the mouse - needed since canvas is position infront of image */
            position: absolute;
        }
    </style>
</head>

<body onload='init()'>
    <canvas id='overlay-canvas'></canvas>
    <img id="colon-image" src="https://i.imgur.com/6hwicYw.png" width="1850" height="1781" orgWidth="1850"
        orgHeight="1781" usemap="#image-map" alt="" />
    <map name="image-map" id="image-map">
        <area id="rectum" alt="" title="Rectum" href="https://en.wikipedia.org/wiki/Rectum" shape="poly"
            onmouseover='on_hover(this);' onmouseout="on_leave();"
            coords="1016,1225,984,1235,958,1239,931,1257,903,1294,898,1322,909,1353,905,1389,903,1443,908,1480,913,1512,905,1560,903,1605,908,1627,920,1668,941,1692,955,1704,977,1703,1000,1686,1026,1669,1044,1625,1054,1596,1055,1552,1057,1511,1060,1479,1059,1446,1053,1413,1047,1388,1043,1384,1048,1375,1054,1358,1058,1340" />
        <area id="sigmoid-colon" title="Sigmoid Colon" href="https://en.wikipedia.org/wiki/Sigmoid_colon" shape="poly"
            coords="1326,940,1327,967,1332,979,1326,987,1316,992,1306,1011,1300,1036,1301,1050,1286,1055,1271,1062,1262,1075,1249,1087,1239,1105,1231,1127,1210,1130,1189,1136,1167,1147,1152,1161,1141,1184,1123,1188,1099,1191,1077,1198,1055,1211,1036,1219,1014,1227,1059,1337,1090,1329,1139,1314,1166,1294,1188,1266,1221,1267,1244,1256,1267,1237,1287,1205,1296,1194,1323,1183,1348,1162,1363,1141,1373,1119,1378,1099,1389,1092,1408,1082,1428,1061,1437,1041,1439,1023,1440,1005,1439,994,1455,982,1464,974,1471,959,1472,954,1472,952"
            onmouseover='on_hover(this);' onmouseout="on_leave();">
    </map>
</body>
<script>
    // stores the device context of the canvas we use to draw the outlines
    // initialized in init, used in on_hover and on_leave
    var hdc;

    function init() {
        // get the target image
        var img = document.getElementById('colon-image');

        var x, y, w, h;

        // get it's position and width+height
        x = img.offsetLeft;
        y = img.offsetTop;
        w = img.clientWidth;
        h = img.clientHeight;

        // move the canvas, so it's contained by the same parent as the image
        var imgParent = img.parentNode;
        var can = document.getElementById('overlay-canvas');
        imgParent.appendChild(can);

        // place the canvas in front of the image
        can.style.zIndex = 1;

        // position it over the image
        can.style.left = x + 'px';
        can.style.top = y + 'px';

        // make same size as the image
        can.setAttribute('width', w + 'px');
        can.setAttribute('height', h + 'px');

        // get it's context
        hdc = can.getContext('2d');

        // set the 'default' values for the colour/width of fill/stroke operations
        var areaColour = "rgba(255, 0, 0, 0.4)";
        hdc.fillStyle = areaColour;
        hdc.lineWidth = 1;
        hdc.strokeStyle = areaColour;
    }

    function on_hover(element) {
        var coord_str = element.getAttribute('coords');
        draw_poly(coord_str);
        hdc.fill();
    }

    function on_leave() {
        var canvas = document.getElementById('overlay-canvas');
        hdc.clearRect(0, 0, canvas.width, canvas.height);
    }

    // takes a string that contains coords eg - "227,307,261,309, 339,354, 328,371, 240,331"
    // draws a line from each co-ord pair to the next - assumes starting point needs to be repeated as ending point.
    function draw_poly(coord_str) {
        var mCoords = coord_str.split(',');
        var i, n;
        n = mCoords.length;

        hdc.beginPath();
        hdc.moveTo(mCoords[0], mCoords[1]);
        for (i = 2; i < n; i += 2) {
            hdc.lineTo(mCoords[i], mCoords[i + 1]);
        }
        hdc.lineTo(mCoords[0], mCoords[1]);
        hdc.stroke();
    }
</script>

</html>